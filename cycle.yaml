
version: '1.0'
scoped_variables:
  - identifier: mysql-password
    scope:
      containers:
        global: true
        ids: []
        identifiers: []
    access:
      env_variable:
        key: MYSQL_PASSWORD
      internal_api: 
      file: 
    source:
      type: raw
      details:
        value: supersecure
        secret: {}
        blob: false
containers:
  demo:
    stateful: false
    name: demo
    image:
      name: simplews
      origin:
        type: docker-file
        details:
          context_dir: "/"
          build_file: "/Dockerfile"
    config:
      network:
        public: enable
        hostname: simplews
        ports:
        - 80:80
      deploy:
        instances: 1
  reach:
    stateful: false
    name: reach
    image:
      name: simplews-external
      origin:
        type: docker-file
        details:
          repo:
            url: https://github.com/aubuchcl/build-dir-two.git
          context_dir: "/"
          build_file: "/Dockerfile"
    config:
      network:
        public: enable
        hostname: simplews
        ports:
        - 80:80
      deploy:
        instances: 1
